<div class="row">
  <div class="col-lg-6">
      <h4>Modules to be run before each package</h4>
      <div class="card">
          <div class="card-header"
          (dragover)="allowDropTop($event, 0)"
          (drop)="onDrop($event, 0)">
              Module Name
          </div>
          <div class="list-group list-group-flush">
            <!-- <div *ngIf="placeholderLocation==0.5" class="list-group-item list-group-item-action">
            </div> -->
              <ng-template
              ngFor
              let-process
              [ngForOf]="startTemplate.processes"
              >
                <div
                    draggable="true"
                    (dragstart)="dragStart($event, process.process_id, 'startTemplate', process.name)"
                    (drop)="onDrop($event, 0)"
                    (dragover)="allowDrop($event, process.order, 0)"
                    class="list-group-item list-group-item-action"
                    [class.active]="process.process_id==selected_process_id"
                    [class.placeholder]="process.type=='placeholder'"
                  >
                  <div class="d-flex w-100 justify-content-between">
                      <p
                      style="margin-bottom:0;" class="d-flex w-100 noselect" (click)="selectProcess(process)">
                        {{process.name}}
                      </p>
                      <!-- <i class="material-icons">arrow_back</i> -->
                      <i *ngIf="process.order != 0" class="material-icons icon-button" (click)="moveUp(process, 0)">keyboard_arrow_up</i>
                      <i *ngIf="process.order < startTemplate.processes.length-1" class="material-icons icon-button" (click)="moveDown(process, 0)">keyboard_arrow_down</i>
                      <i class="material-icons icon-button" (click)="deleteProcess(process, 0)">delete</i>
                      <small>{{process.status}}</small>
                  </div>
                  <ng-template [ngIf]="process.process_id==selected_process_id">
                      <form *ngIf="process.form.length>0">
                              <label *ngFor="let input of process.form" for="{{input.identifier}}" class="input-label">
                                {{input.label}}
                                <!-- <input type="text" *ngIf="input.type=='text'" [id]="input.identifier" [value]="process.values[input.identifier]" (keyup)="setProcessValue(input.identifier, $event.target.value)" (change)="setProcessValue(input.identifier, $event.target.value)"/> -->
                                <input type="checkbox" *ngIf="input.type=='checkbox'" [id]="input.identifier" [checked]="process.value[input.identifier]" (change)="setProcessValue(input.identifier, $event.target.checked)"/>
                                <!-- <button class="btn" (click)="openFileBrowser()">Files: All</button> -->
                              </label>
                      </form>
                  </ng-template>
                </div>
              </ng-template>
          </div>
      </div>
      <h4>Modules to be run after each package</h4>
      <div class="card">
          <div class="card-header"
          (dragover)="allowDropTop($event, 1)"
          (drop)="onDrop($event, 1)">
              Module Name
          </div>
          <div class="list-group list-group-flush">
            <!-- <div *ngIf="placeholderLocation==0.5" class="list-group-item list-group-item-action">
            </div> -->
              <ng-template
              ngFor
              let-process
              [ngForOf]="endTemplate.processes"
              >
                <div
                    draggable="true"
                    (dragstart)="dragStart($event, process.process_id, 'endTemplate', process.name)"
                    (drop)="onDrop($event, 1)"
                    (dragover)="allowDrop($event, process.order, 1)"
                    class="list-group-item list-group-item-action"
                    [class.active]="process.process_id==selected_process_id"
                    [class.placeholder]="process.type=='placeholder'"
                  >
                  <div class="d-flex w-100 justify-content-between">
                      <p
                      style="margin-bottom:0;" class="d-flex w-100 noselect" (click)="selectProcess(process)">
                        {{process.name}}
                      </p>
                      <!-- <i class="material-icons">arrow_back</i> -->
                      <i *ngIf="process.order != 0" class="material-icons icon-button" (click)="moveUp(process, 1)">keyboard_arrow_up</i>
                      <i *ngIf="process.order < endTemplate.processes.length-1" class="material-icons icon-button" (click)="moveDown(process, 1)">keyboard_arrow_down</i>
                      <i class="material-icons icon-button" (click)="deleteProcess(process, 1)">delete</i>
                      <small>{{process.status}}</small>
                  </div>
                  <ng-template [ngIf]="process.process_id==selected_process_id">
                      <form *ngIf="process.form.length>0">
                              <label *ngFor="let input of process.form" for="{{input.identifier}}" class="input-label">
                                {{input.label}}
                                <!-- <input type="text" *ngIf="input.type=='text'" [id]="input.identifier" [value]="process.values[input.identifier]" (keyup)="setProcessValue(input.identifier, $event.target.value)" (change)="setProcessValue(input.identifier, $event.target.value)"/> -->
                                <input type="checkbox" *ngIf="input.type=='checkbox'" [id]="input.identifier" [checked]="process.value[input.identifier]" (change)="setProcessValue(input.identifier, $event.target.checked)"/>
                                <!-- <button class="btn" (click)="openFileBrowser()">Files: All</button> -->
                              </label>
                      </form>
                  </ng-template>
                </div>
              </ng-template>
          </div>
      </div>
  </div>
  <div class="col-lg-6" data-query="view(Mooo)">
      <h4>Avaliable Tools</h4>
      <div class="card">
           <div class="card-header">
              Name
           </div>
           <ng-template
           ngFor
           let-module
           [ngForOf]="modules"
           >
           <div class="list-group list-group-flush">
               <div draggable="true" (dragstart)="dragStart($event, module.module_id, 'module', module.name)" (dragend)="onRelease($event)" class="list-group-item list-group-item-action">
                 <div class="d-flex w-100 justify-content-between">
                  <p style="margin-bottom:0;" class="d-flex w-100 noselect">{{module.name}}</p>
                 </div>
              </div>
           </div>
         </ng-template>
      </div>
  </div>
</div>
