<table class="table table-striped table-hover" style="background-color: white;">
  <thead class="company-table-head">
    <tr>
      <th>Name</th>
      <th>Statusbar</th>
      <th>Status</th>
      <th>Log</th>
      <th>
        Error
        <button class="refresh" (click)="updateData()"><i class="material-icons">refresh</i></button>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let process of package.processes">
      <td class="align-middle">
        {{process.name}} {{process.hidden ? '(Hidden)' : ''}}
      </td>
      <td class="align-middle">
        <div class="progress border border-primary">
          <div class="progress-bar text-dark text-center"
          [class.bg-success]="process.status == 'Done'"
          [class.bg-danger]="process.status == 'Error'"
          [class.progress-bar-animated]="process.status == 'Running'"
          [class.progress-bar-striped]="process.status == 'Running'"
          [style.width]="process.progress + '%'">{{process.progress}}%</div>
        </div>
      </td>
      <td class="align-middle">{{process.status}}</td>
      <td class="align-middle"><button class="btn btn-outline-primary" (click)="showModal(process, 'info_log')" [disabled]="process.log_path == ''">Open log</button></td>
      <td class="align-middle">
        <button class="btn btn-danger"
                (click)="showModal(process, 'error_log')"
                [disabled]="process.err_path == '' || process.status != 'Error'"
                [class.btn-outline-danger]="process.errors.length <= 0">
                Errors: {{process.errors.length}}
        </button>
      </td>
    </tr>
  </tbody>
</table>
<button class="btn btn-success float-right" (click)="startWorkflow()">Start√•</button>
<button class="btn btn-warning float-right" (click)="removePackage()">Done</button>
<button class="btn btn-danger float-right" (click)="removePackage()">Delete</button>




<div class="modal Amodal" [class.active]="modalActive" id="modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" (click)="modalActive=false">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        {{modalData}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalActive=false">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
  <div class="modal-background" (click)="modalActive=false"></div>
</div>


<modal [(active)]="modalLogActive" title="Complete log">
  <div modal-body>
    {{modalData}}
  </div>
</modal>
